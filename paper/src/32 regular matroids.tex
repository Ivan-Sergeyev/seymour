\section{Regular Matroids}\label{sec:regular_matroid}

Regular matroids \cite{Oxley2011,Truemper2016} are the core subject of Seymour's theorem. A matroid is \emph{regular} if it can be constructed (as a vector matroid) from a rational totally unimodular matrix:
\begin{leancode}
def Matroid.IsRegular {α : Type*}
    (M : Matroid α) : Prop :=
  ∃ X Y : Set α, ∃ A : Matrix X Y ℚ, 
    A.IsTotallyUnimodular ∧ A.toMatroid = M
\end{leancode}
One key result we prove is that every regular matroid is in fact \emph{binary}, i.e., can be constructed from a binary matrix:
\begin{leancode}
lemma Matroid.IsRegular.isBinary
    {α : Type*} [DecidableEq α]
    {M : Matroid α} (hM : M.IsRegular) :
  ∃ X : Set α, ∃ Y : Set α, ∃ A : Matrix X Y Z2, 
    A.toMatroid = M
\end{leancode}
Another important lemma we prove about regular matroids is their equivalent characterization in terms of totally unimodular signings. First, let us introduce the necessary definitions. We say that a matrix $A$ is a \emph{signing} of matrix $U$ if their values are identical up to signs:
\begin{leancode}
def Matrix.IsSigningOf {X Y R : Type*}
    [LinearOrderedRing R] {n : ℕ}
    (A : Matrix X Y R) (U : Matrix X Y (ZMod n)) :
    Prop :=
  ∀ i : X, ∀ j : Y, |A i j| = (U i j).val
\end{leancode}
We then say that a binary matrix $U$ \emph{has a totally unimodular signing} if it has a signing matrix $A$ that is rational and totally unimodular:
\begin{leancode}
def Matrix.IsTuSigningOf {X Y : Type*} 
    (A : Matrix X Y ℚ) (U : Matrix X Y Z2) :
    Prop :=
  A.IsTotallyUnimodular ∧ A.IsSigningOf U
\end{leancode}
\begin{leancode}
def Matrix.HasTuSigning {X Y : Type*} 
    (U : Matrix X Y Z2) : Prop :=
  ∃ A : Matrix X Y ℚ, A.IsTuSigningOf U
\end{leancode}
Now, we can state the characterization: given a standard representation over $\mathbb{Z}_{2}$, its matrix has a totally unimodular signing if and only if the matroid obtained from the representation is regular.
\begin{leancode}
lemma
StandardRepr.toMatroid_isRegular_iff_hasTuSigning
    {α : Type*} [DecidableEq α]
    (S : StandardRepr α Z2) [Finite S.X] :
  S.toMatroid.IsRegular ↔ S.B.HasTuSigning
\end{leancode} 
% Martin: I would still write that only `Matroid.IsRegular` is part of the trusted code (among definitions from this section).