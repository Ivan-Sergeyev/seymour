\section{Vector Matroids}

% Construction of vector matroids
Vector matroids \cite{Oxley2011,Truemper2016} is the most fundamental matroid class formalized in our work, serving as the basis for binary and regular matroids in later sections. A \emph{vector matroid} is constructed from a matrix $A$ by taking the column index set as the ground set and declaring a set $I$ to be independent if the set of columns of $A$ indexed by $I$ is linearly independent. To capture this theoretical definition, we first implement the independence predicate as:
\begin{leancode}
def Matrix.IndepCols {α R : Type*} {X Y : Set α}
    [Semiring R] (A : Matrix X Y R) (I : Set α) :
    Prop :=
  I ⊆ Y ∧ LinearIndepOn R Aᵀ (Y ↓∩ I)
\end{leancode}
Next, we construct an \texttt{IndepMatroid}:
\begin{leancode}
def Matrix.toIndepMatroid
    {α R : Type*} {X Y : Set α}
    [DivisionRing R] (A : Matrix X Y R) :
    IndepMatroid α where
  E := Y
  Indep := A.IndepCols
  indep_empty := A.indepCols_empty
  indep_subset := A.indepCols_subset
  indep_aug := A.indepCols_aug
  indep_maximal S _ := A.indepCols_maximal S
  subset_ground _ := And.left
\end{leancode}
Finally, we convert \texttt{IndepMatroid} to \texttt{Matroid}:
\begin{leancode}
def Matrix.toMatroid {α R : Type*} {X Y : Set α}
    [DivisionRing R] (A : Matrix X Y R) :
    Matroid α :=
  A.toIndepMatroid.matroid
\end{leancode}
Going forward, we use \texttt{Matrix.toMatroid} for constructing vector matroids from matrices.

% Remark: augmentation property + R is typically a division ring
As part of the construction above, we had to show that \texttt{Matrix.IndepCols} satisfies the so-called \emph{augmentation property}: if $I$ is a non-maximal independent set and $J$ is a maximal independent set, then there exists an element $x \in J \setminus I$ such that $I \cup \{x\}$ is independent. It is worth noting that while we define \texttt{Matrix.IndepCols} over a semiring $R$ for the sake of generality, the augmentation property requires $R$ to be at least a division ring. Indeed, let $R = \mathbb{Z}_{6}$, which is in fact a ring, and consider
\[
    A = \begin{bmatrix}
       0 & 1 & 2 & 3 \\
       1 & 0 & 3 & 2
    \end{bmatrix}
\]
with columns indexed by $\{0, 1, 2, 3\}$. Then $I = \{0\}$ is a non-maximal independent set and $J = \{2, 3\}$ is a maximal independent set over $R$, but they do not satisfy the augmentation property. For this reason, we require $R$ to be a division ring in the augmentation property and all dependent results.

% (Optional) Remark: resulting vector matroids are finitary
Additionally, we show that vector matroids as defined above are finitary, i.e., an infinite subset in a vector matroid is independent if and only if so are all its finite subsets:
\begin{leancode}
lemma Matrix.toMatroid_isFinitary {α R : Type*}
    {X Y : Set α} [DivisionRing R]
    (A : Matrix X Y R) :
    A.toMatroid.Finitary
\end{leancode}

% We also implement some additional API to make our implementation of vector matroids more convenient to utilize. In particular, we proved three equivalent characterizations of the independence predicate to shorten proofs involving vector matroids. %pb
% Martin: Also, there is a place where we have 4 equivalent characterizations?
